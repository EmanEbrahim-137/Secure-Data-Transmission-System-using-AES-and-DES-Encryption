
<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<title>Encryption and Decryption</title>

<!-- Font Awesome Icons -->
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.0/css/all.min.css">

<style>
body {
    font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
    background: linear-gradient(to bottom right, #c3b1f5, #b3e5fc);
    display: flex;
    justify-content: center;
    align-items: center;
    height: 100vh;
    margin: 0;
}

.container {
    background: white;
    width: 500px;
    border-radius: 15px;
    box-shadow: 0 10px 25px rgba(0,0,0,0.2);
    padding: 30px 40px;
    text-align: center;
    position: relative;
}

.title-box {
    background: linear-gradient(90deg, #8e44ad, #3498db);
    color: white;
    font-size: 22px;
    font-weight: bold;
    padding: 15px;
    border-radius: 12px 12px 0 0;
    position: absolute;
    top: -30px;
    left: 0;
    right: 0;
}

.textarea-wrapper {
    position: relative;
    margin-top: 15px;
}

.textarea-wrapper textarea {
    width: 100%;
    height: 120px;
    border-radius: 10px;
    border: 1px solid #ccc;
    padding: 12px 45px 12px 12px;
    font-size: 16px;
    resize: none;
    box-sizing: border-box;
}

.icon-btn {
    position: absolute;
    top: 10px;
    color: #9e9e9e;
    font-size: 16px;
    cursor: pointer;
    transition: 0.2s;
}

.icon-btn:hover {
    color: #555;
}

/* Icon positions */
.icon-btn.paste { right: 12px; }
.icon-btn.delete { right: 36px; }
.icon-btn.copy  { right: 12px; }

button.encrypt {
    background-color: #8e44ad;
    color: white;
    margin-top: 15px;
    margin-right: 10px;
    padding: 10px 20px;
    border-radius: 10px;
    border: none;
    cursor: pointer;
    font-weight: bold;
}

button.decrypt {
    background-color: #3498db;
    color: white;
    margin-top: 15px;
    padding: 10px 20px;
    border-radius: 10px;
    border: none;
    cursor: pointer;
    font-weight: bold;
}

.result {
    margin-top: 20px;
    background-color: #f0f4ff;
    border-radius: 10px;
    padding: 15px;
}

.result textarea {
    height: 100px;
}
</style>
</head>

<body>

<div class="container">
    <div class="title-box">Encryption and Decryption</div>

    <form method="post">
        <label><b>Enter Text:</b></label>

        <!-- INPUT TEXTAREA -->
        <div class="textarea-wrapper">
            <textarea id="inputText" name="text">{{ text }}</textarea>

            <i class="fa-solid fa-trash icon-btn delete"
               onclick="clearInput()"
               title="Delete"></i>

            <i class="fa-solid fa-paste icon-btn paste"
               onclick="pasteText()"
               title="Paste"></i>
        </div>

        <button type="submit" name="action" value="encrypt" class="encrypt">Encrypt</button>
        <button type="submit" name="action" value="decrypt" class="decrypt">Decrypt</button>
    </form>

    <!-- RESULT TEXTAREA -->
    <div class="result">
        <b>Result:</b>

        <div class="textarea-wrapper">
            <textarea id="resultText" readonly>{{ result }}</textarea>

            <i class="fa-regular fa-copy icon-btn copy"
               onclick="copyResult()"
               title="Copy"></i>
        </div>
    </div>
</div>

<script>
function clearInput() {
    document.getElementById("inputText").value = "";
}

function pasteText() {
    navigator.clipboard.readText().then(text => {
        document.getElementById("inputText").value = text;
    });
}

function copyResult() {
    const r = document.getElementById("resultText");
    r.select();
    document.execCommand("copy");
}
</script>

</body>
</html>
